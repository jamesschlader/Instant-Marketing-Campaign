<template name="showCustomers">
  <table
    class="uk-table uk-box-shadow-medium uk-table-hover uk-responsive-width"
  >
    <caption>
      <h5>Customers</h5>
      <p>Total customer count = {{ customerCount }}</p>
      <div>
        <button class="uk-button uk-button-primary save-customers">
          Move Selected Customers to a File
        </button>
      </div>
    </caption>

    <thead>
      <tr>
        <th>Save to file</th>
        <th id="created">Created</th>
        <th id="active">Active</th>
        <th id="first">First Name</th>
        <th id="last">Last Name</th>
        <th id="phone">Telephone</th>
        <th id="address">Address</th>
        <th>Remove</th>
      </tr>
    </thead>
    <tbody>
      {{#each customers}}
      <tr>
        <td class="save-toggle">
          {{#if saving this._id

          }}<span class="nevermind" uk-icon="check"></span>
          {{/if}}
        </td>
        <td>{{ formatDate(createdAt) }}</td>
        <td class="active-toggle">{{ showActive active}}</td>
        <td>
          {{ firstName }}
        </td>
        <td>{{ lastName }}</td>
        <td>{{ telephone }}</td>
        <td>
          {{#if showing this._id}}
          <ul class="uk-list">
            <li>{{ address.streetAddress }}</li>
            <li>{{ address.secondaryAddress }}</li>
            <li>
              {{ address.city }}, {{ address.state }}
              <span>{{ address.zip }}</span>
            </li>
            <li>{{ address.county }}</li>
            <li>Longitude: {{ address.long }}</li>
            <li>Latitude: {{ address.lat }}</li>
            <li><button class="uk-button-danger">Close</button></li>
          </ul>
          {{else}}
          <span class="home" uk-icon="home"></span>
          {{/if}}
        </td>
        <td><span class="delete" uk-icon="close"></span></td>
      </tr>
      {{/each}}
    </tbody>
  </table>
</template>
